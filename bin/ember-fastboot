#!/usr/bin/env node
'use strict';

// Provide a title to the process in `ps`
process.title = 'fastboot-app-server';

var FastBootAppServer = require('../lib/fastboot-app-server');
var parseArgs = require('minimist');

var argOptions = {
  default: { port: 3000, host: '::' }
};

var options = parseArgs(process.argv.slice(2), argOptions);

var distPath = options._[0];

if (!distPath) {
  console.error("You must call fastboot-app-server with the path of a fastboot-dist directory:\n\n" +
      "  fastboot-app-server fastboot-dist");
  process.exit(1);
}

var server = new FastBootAppServer({
  distPath: distPath
});

server.start();
